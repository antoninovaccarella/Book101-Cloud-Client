{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { HttpEventType, HttpResponse } from '@angular/common/http';\nlet NewProductComponent = class NewProductComponent {\n  constructor(uploadService) {\n    this.uploadService = uploadService;\n    this.progress = 0;\n    this.message = '';\n  }\n\n  ngOnInit() {\n    this.fileInfos = this.uploadService.getFiles();\n  }\n\n  selectFile(event) {\n    this.selectedFiles = event.target.files;\n  }\n\n  upload() {\n    this.progress = 0;\n    this.currentFile = this.selectedFiles.item(0);\n    this.uploadService.upload(this.currentFile).subscribe(event => {\n      if (event.type === HttpEventType.UploadProgress) {\n        this.progress = Math.round(100 * event.loaded / event.total);\n      } else if (event instanceof HttpResponse) {\n        this.message = event.body.message;\n        s;\n        this.fileInfos = this.uploadService.getFiles();\n      }\n    }, err => {\n      this.progress = 0;\n      this.message = 'Could not upload the file!';\n      this.currentFile = undefined;\n    });\n    this.selectedFiles = undefined;\n  }\n\n};\nNewProductComponent = __decorate([Component({\n  selector: 'app-new-product',\n  templateUrl: './new-product.component.html',\n  styleUrls: ['./new-product.component.css']\n})], NewProductComponent);\nexport { NewProductComponent };","map":null,"metadata":{},"sourceType":"module"}