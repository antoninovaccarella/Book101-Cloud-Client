{"ast":null,"code":"import { Product } from '../../../models/product';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\n\nfunction NewProductComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1, \" Product added successfully. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NewProductComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" Error adding product. Please try again. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let NewProductComponent = /*#__PURE__*/(() => {\n  class NewProductComponent {\n    constructor(http) {\n      this.http = http;\n      this.product = new Product(); // Object to store the product data\n\n      this.submissionStatus = null; // Variable to track the submission status\n    }\n\n    submitForm() {\n      this.submissionStatus = null; // Reset the submission status\n\n      const newProduct = {\n        name: this.product.name,\n        stock: this.product.stock,\n        category: this.product.category,\n        shortDetails: this.product.shortDetails,\n        description: this.product.description,\n        picture: this.product.picture,\n        price: this.product.price\n      };\n      this.http.post('http://localhost:8443/api/product/add', newProduct).subscribe(response => {\n        console.log('Product added successfully:', response);\n        this.submissionStatus = 'success'; // Set the submission status to success\n\n        this.resetForm(); // Clear the form upon successful submission\n      }, error => {\n        console.error('Error adding product:', error);\n        this.submissionStatus = 'error'; // Set the submission status to error\n      });\n    }\n\n  }\n\n  NewProductComponent.ɵfac = function NewProductComponent_Factory(t) {\n    return new (t || NewProductComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n\n  NewProductComponent.ɵcmp = i0.ɵɵdefineComponent({\n    type: NewProductComponent,\n    selectors: [[\"app-new-product\"]],\n    decls: 37,\n    vars: 10,\n    consts: [[1, \"form-container\"], [3, \"ngSubmit\"], [\"productForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"nome\"], [\"type\", \"text\", \"id\", \"nome\", \"name\", \"nome\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"stock\"], [\"type\", \"number\", \"id\", \"stock\", \"name\", \"stock\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"categoria\"], [\"type\", \"text\", \"id\", \"categoria\", \"name\", \"categoria\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"dettagli\"], [\"type\", \"text\", \"id\", \"dettagli\", \"name\", \"dettagli\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"descrizione\"], [\"id\", \"descrizione\", \"name\", \"descrizione\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"anteprima\"], [\"type\", \"text\", \"id\", \"anteprima\", \"name\", \"anteprima\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"prezzo\"], [\"type\", \"number\", \"id\", \"prezzo\", \"name\", \"prezzo\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 3, \"disabled\"], [\"class\", \"success-message\", 4, \"ngIf\"], [\"class\", \"error-message\", 4, \"ngIf\"], [1, \"success-message\"], [1, \"error-message\"]],\n    template: function NewProductComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\");\n        i0.ɵɵtext(1, \"Inserisci i dettagli del libro da inserire su BOOK 101\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 0);\n        i0.ɵɵelementStart(3, \"form\", 1, 2);\n        i0.ɵɵlistener(\"ngSubmit\", function NewProductComponent_Template_form_ngSubmit_3_listener() {\n          return ctx.submitForm();\n        });\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵelementStart(6, \"label\", 4);\n        i0.ɵɵtext(7, \"Nome\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function NewProductComponent_Template_input_ngModelChange_8_listener($event) {\n          return ctx.product.name = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 3);\n        i0.ɵɵelementStart(10, \"label\", 6);\n        i0.ɵɵtext(11, \"Stock\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function NewProductComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.product.stock = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 3);\n        i0.ɵɵelementStart(14, \"label\", 8);\n        i0.ɵɵtext(15, \"Categoria\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function NewProductComponent_Template_input_ngModelChange_16_listener($event) {\n          return ctx.product.category = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 3);\n        i0.ɵɵelementStart(18, \"label\", 10);\n        i0.ɵɵtext(19, \"Dettagli\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function NewProductComponent_Template_input_ngModelChange_20_listener($event) {\n          return ctx.product.shortDetails = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 3);\n        i0.ɵɵelementStart(22, \"label\", 12);\n        i0.ɵɵtext(23, \"Descrizione\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"textarea\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function NewProductComponent_Template_textarea_ngModelChange_24_listener($event) {\n          return ctx.product.description = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 3);\n        i0.ɵɵelementStart(26, \"label\", 14);\n        i0.ɵɵtext(27, \"Immagine\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function NewProductComponent_Template_input_ngModelChange_28_listener($event) {\n          return ctx.product.picture = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\", 3);\n        i0.ɵɵelementStart(30, \"label\", 16);\n        i0.ɵɵtext(31, \"Prezzo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"input\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function NewProductComponent_Template_input_ngModelChange_32_listener($event) {\n          return ctx.product.price = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"button\", 18);\n        i0.ɵɵtext(34, \"Add Product\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(35, NewProductComponent_div_35_Template, 2, 0, \"div\", 19);\n        i0.ɵɵtemplate(36, NewProductComponent_div_36_Template, 2, 0, \"div\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(4);\n\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.name);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.stock);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.category);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.shortDetails);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.description);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.picture);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.price);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !_r0.valid);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.submissionStatus === \"success\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.submissionStatus === \"error\");\n      }\n    },\n    directives: [i2.ɵangular_packages_forms_forms_ba, i2.NgControlStatusGroup, i2.NgForm, i2.DefaultValueAccessor, i2.RequiredValidator, i2.NgControlStatus, i2.NgModel, i2.NumberValueAccessor, i3.NgIf],\n    styles: [\".form-container[_ngcontent-%COMP%]{margin-top:100px}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{display:block;font-weight:bold}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;font-size:1rem;border-radius:4px;border:1px solid #ccc;background-color:#f5f5f5}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 5px #007bff}button[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:1rem;border-radius:4px;background-color:#007bff;color:#fff;border:none;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}\", \".form-container[_ngcontent-%COMP%] {\\n    margin-top: 100px;\\n  }\\n\\n  .form-group[_ngcontent-%COMP%] {\\n    margin-bottom: 1rem;\\n  }\\n\\n  label[_ngcontent-%COMP%] {\\n    display: block;\\n    font-weight: bold;\\n  }\\n\\n  input[type=\\\"text\\\"][_ngcontent-%COMP%], input[type=\\\"number\\\"][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 0.5rem;\\n    font-size: 1rem;\\n    border-radius: 4px;\\n    border: 1px solid #ccc;\\n  }\\n\\n  button[_ngcontent-%COMP%] {\\n    padding: 0.5rem 1rem;\\n    font-size: 1rem;\\n    border-radius: 4px;\\n    background-color: #007bff;\\n    color: #fff;\\n    border: none;\\n    cursor: pointer;\\n  }\\n\\n  button[_ngcontent-%COMP%]:disabled {\\n    opacity: 0.5;\\n    cursor: not-allowed;\\n  }\\n\\n  .success-message[_ngcontent-%COMP%] {\\n    color: green;\\n    margin-top: 10px;\\n  }\\n\\n  .error-message[_ngcontent-%COMP%] {\\n    color: red;\\n    margin-top: 10px;\\n  }\"]\n  });\n  return NewProductComponent;\n})();\nresetForm();\n{\n  this.product = new Product(); // Clear the form fields\n}","map":null,"metadata":{},"sourceType":"module"}