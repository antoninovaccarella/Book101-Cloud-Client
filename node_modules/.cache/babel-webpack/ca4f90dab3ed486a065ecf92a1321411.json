{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./components/shared/services/token.service\";\nimport * as i2 from \"./components/shared/nav/nav.component\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"./components/shared/footer/footer.component\";\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(tokenService) {\n      this.tokenService = tokenService;\n      this.title = 'Book101-client';\n      this.isLoggedIn = false;\n    }\n\n    ngOnInit() {\n      this.loadAPI = new Promise(resolve => {\n        this.loadScript();\n        resolve(true);\n      });\n      this.isLoggedIn = !!this.tokenService.getToken();\n\n      if (this.isLoggedIn) {\n        const user = this.tokenService.getUser();\n        this.username = user.username;\n      }\n    }\n\n    logout() {\n      this.tokenService.signOut();\n      window.location.reload();\n    }\n\n    loadScript() {\n      let isFound = false;\n      const scripts = document.getElementsByTagName('script');\n\n      for (let i = 0; i < scripts.length; ++i) {\n        if (scripts[i].getAttribute('src') != null && scripts[i].getAttribute('src').includes('loader')) {\n          isFound = true;\n        }\n      }\n\n      if (!isFound) {\n        const dynamicScripts = ['../assets/js/scripts.js'];\n\n        for (const item of dynamicScripts) {\n          const node = document.createElement('script');\n          node.src = item;\n          node.type = 'text/javascript';\n          node.async = false;\n          node.charset = 'utf-8';\n          document.getElementsByTagName('head')[0].appendChild(node);\n        }\n      }\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.TokenService));\n  };\n\n  AppComponent.ɵcmp = i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 17,\n    vars: 2,\n    consts: [[\"id\", \"preloader\", 1, \"preloader\"], [\"viewBox\", \"0 0 1920 1080\", \"preserveAspectRatio\", \"none\", \"version\", \"1.1\"], [\"d\", \"M0,0 C305.333333,0 625.333333,0 960,0 C1294.66667,0 1614.66667,0 1920,0 L1920,1080 C1614.66667,1080 1294.66667,1080 960,1080 C625.333333,1080 305.333333,1080 0,1080 L0,0 Z\"], [1, \"inner\"], [\"id\", \"progress-bar\", \"width\", \"200\", \"height\", \"200\", 1, \"progress-bar\"], [\"src\", \"assets/images/preloader.png\", \"alt\", \"Image\"], [1, \"page-transition\"], [\"d\", \"M0,0 C305.333333,0 625.333333,0 960,0 C1294.66667,0 1614.66667,0 1920,0 L1920,1080 C1614.66667,980 1294.66667,930 960,930 C625.333333,930 305.333333,980 0,1080 L0,0 Z\"], [1, \"smooth-scroll\"], [\"data-scroll-section\", \"\", 1, \"section-wrapper\"], [3, \"isLoggedIn\", \"username\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(1, \"svg\", 1);\n        i0.ɵɵelement(2, \"path\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelement(4, \"canvas\", 4);\n        i0.ɵɵelementStart(5, \"figure\");\n        i0.ɵɵelement(6, \"img\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"small\");\n        i0.ɵɵtext(8, \"Caricamento\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 6);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(10, \"svg\", 1);\n        i0.ɵɵelement(11, \"path\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(12, \"div\", 8);\n        i0.ɵɵelementStart(13, \"div\", 9);\n        i0.ɵɵelement(14, \"app-nav\", 10);\n        i0.ɵɵelement(15, \"router-outlet\");\n        i0.ɵɵelement(16, \"app-footer\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"isLoggedIn\", ctx.isLoggedIn)(\"username\", ctx.username);\n      }\n    },\n    directives: [i2.NavComponent, i3.RouterOutlet, i4.FooterComponent],\n    styles: [\"\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}