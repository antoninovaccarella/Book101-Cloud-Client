{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet NewProductComponent = class NewProductComponent {\n  constructor(http) {\n    this.http = http;\n    this.fileName = '';\n  }\n\n  onFileSelected(event) {\n    const file = event.target.files[0];\n\n    if (file) {\n      this.fileName = file.name;\n      const formData = new FormData();\n      formData.append(\"thumbnail\", file);\n      const upload$ = this.http.post(\"/api/thumbnail-upload\", formData, {\n        reportProgress: true,\n        observe: 'events'\n      }).pipe(finalize(() => this.reset()));\n      this.uploadSub = upload$.subscribe(event => {\n        if (event.type == HttpEventType.UploadProgress) {\n          this.uploadProgress = Math.round(100 * (event.loaded / event.total));\n        }\n      });\n    }\n  }\n\n  cancelUpload() {\n    this.uploadSub.unsubscribe();\n    this.reset();\n  }\n\n  reset() {\n    this.uploadProgress = null;\n    this.uploadSub = null;\n  }\n\n};\n\n__decorate([Input()], NewProductComponent.prototype, \"requiredFileType\", void 0);\n\nNewProductComponent = __decorate([Component({\n  selector: 'app-new-product',\n  templateUrl: './new-product.component.html',\n  styleUrls: ['./new-product.component.css']\n})], NewProductComponent);\nexport { NewProductComponent };","map":null,"metadata":{},"sourceType":"module"}