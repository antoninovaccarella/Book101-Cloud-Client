{"version":3,"sources":["../../src/log.ts"],"names":["promisify_1","require","dotProp","extend","entry_1","instrumentation_1","log_common_1","Log","constructor","logging","name","options","this","formattedName_","formatLogName","projectId","removeCircular_","removeCircular","maxEntrySize","split","pop","jsonFieldsToTruncate","undefined","filteredList","filter","str","includes","startsWith","uniqueSet","Set","Array","from","concat","defaultWriteDeleteCallback","alert","entry","write","assignSeverityToEntries","critical","debug","delete","gaxOptions","auth","getProjectId","reqOpts","logName","loggingService","deleteLog","emergency","metadataOrData","data","let","metadata","Object","prototype","hasOwnProperty","call","error","getEntries","opts","getEntriesStream","log","tailEntries","info","notice","warning","isInfoAdded","getInstrumentationInfoStatus","partialSuccess","setProjectId","resource","getOrSetResource","decoratedEntries","decorateEntries","populateInstrumentationInfo","truncateEntries","entries","writeLogEntries","labels","snakecaseKeys","setDetectedResource","detectedResource","map","Entry","toJSON","forEach","payloadSize","JSON","stringify","length","delta","textPayload","slice","Math","max","field","msg","get","set","min","assignSeverityToEntries_","severity","formatName_","exports","callbackifyAll","exclude"],"mappings":"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"}