{"version":3,"sources":["../../../src/utils/metadata.ts"],"names":["fs","require","gcpMetadata","google_auth_library_1","util_1","readFile","promisify","zoneFromQualifiedZone","qualified","split","pop","regionFromQualifiedZone","zone","region","undefined","slice","lastIndexOf","async","getCloudFunctionDescriptor","let","process","env","GOOGLE_CLOUD_REGION","FUNCTION_REGION","qualifiedZone","instance","type","labels","function_name","K_SERVICE","FUNCTION_NAME","exports","getCloudRunDescriptor","location","service_name","revision_name","K_REVISION","configuration_name","K_CONFIGURATION","getGAEDescriptor","module_id","GAE_SERVICE","GAE_MODULE_NAME","version_id","GAE_VERSION","getGCEDescriptor","idResponse","zoneResponse","instance_id","toString","KUBERNETES_NAMESPACE_ID_PATH","getGKEDescriptor","resp","namespace","err","cluster_name","namespace_name","pod_name","HOSTNAME","container_name","CONTAINER_NAME","getGlobalDescriptor","getDefaultResource","auth","getEnv","GCPEnv","KUBERNETES_ENGINE","catch","APP_ENGINE","CLOUD_FUNCTIONS","CLOUD_RUN","COMPUTE_ENGINE","detectServiceContext","service","version","GAE_MODULE_VERSION"],"mappings":"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"}